<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Workshop ¬∑ Entorno 3D en After Effects</title>
  <style>
    :root{
      --bg:#0b0d12;
      --bg2:#0f1320;
      --surface:rgba(255,255,255,.06);
      --surface2:rgba(255,255,255,.09);
      --stroke:rgba(255,255,255,.10);
      --stroke2:rgba(255,255,255,.16);
      --text:#f4f6ff;
      --muted:#aab2d1;
      --muted2:#7d86a8;
      --accent:#ff6a2a;      /* ‚Äúbrach vibe‚Äù: naranja/energ√≠a */
      --accent2:#ff8452;
      --success:#22c55e;
      --shadow: 0 18px 50px rgba(0,0,0,.45);
      --shadow2: 0 10px 28px rgba(0,0,0,.35);
      --r12:12px;
      --r16:16px;
      --r20:20px;
      --max: 1240px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1100px 600px at 15% -10%, rgba(255,106,42,.22), transparent 60%),
        radial-gradient(900px 520px at 85% -10%, rgba(255,106,42,.12), transparent 60%),
        radial-gradient(800px 520px at 50% 110%, rgba(99,102,241,.10), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
    }

    a{color:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:18px 16px 28px;}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(11,13,18,.68);
      border-bottom:1px solid var(--stroke);
    }
    .topbar-inner{
      max-width:var(--max);
      margin:0 auto;
      padding:14px 16px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .brand{display:flex; align-items:center; gap:10px; min-width:240px;}
    .logo{
      width:38px; height:38px; border-radius:14px;
      background: linear-gradient(135deg, var(--accent), #ffb17f);
      box-shadow: 0 16px 34px rgba(255,106,42,.28);
    }
    .brand .t{display:flex; flex-direction:column; line-height:1.12}
    .brand .t b{font-size:13px; letter-spacing:.2px}
    .brand .t span{font-size:12px; color:var(--muted2)}

    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end;}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px;
      padding:8px 10px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      border-radius:999px;
      color: var(--muted);
      box-shadow: var(--shadow2);
      user-select:none;
    }
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor:pointer;
      text-decoration:none;
      box-shadow: var(--shadow2);
      transition: transform .08s ease, border-color .12s ease, background .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); border-color: var(--stroke2); background: rgba(255,255,255,.08)}
    .btn.accent{
      border-color: rgba(255,106,42,.30);
      background: linear-gradient(135deg, rgba(255,106,42,.22), rgba(255,106,42,.08));
      color: #ffd9c8;
    }
    .btn.solid{
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border-color: rgba(255,106,42,.35);
      color:#101018;
      font-weight: 700;
    }

    /* Layout */
    .grid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 16px;
      align-items:start;
      margin-top:16px;
    }

    .card{
      background: rgba(255,255,255,.05);
      border: 1px solid var(--stroke);
      border-radius: var(--r20);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    /* Hero */
    .hero{
      padding: 18px 18px 16px;
      background:
        radial-gradient(900px 520px at 10% 0%, rgba(255,106,42,.16), transparent 55%),
        radial-gradient(900px 520px at 90% 0%, rgba(99,102,241,.12), transparent 55%),
        rgba(255,255,255,.04);
      border-bottom: 1px solid var(--stroke);
    }
    .hero .kicker{
      display:inline-flex; align-items:center; gap:10px;
      font-size:12px; color: var(--muted);
      padding: 6px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
    }
    h1{
      margin:10px 0 0;
      font-size: 22px;
      letter-spacing: .2px;
      line-height:1.15;
    }
    .sub{
      margin:10px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height:1.6;
      max-width: 78ch;
    }
    .hero-row{
      margin-top: 14px;
      display:flex;
      gap: 12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .kpis{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
    }
    .kpi{
      min-width: 170px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
    }
    .kpi b{font-size:12px}
    .kpi span{display:block; margin-top:2px; font-size:12px; color:var(--muted2)}
    .progressWrap{display:flex; align-items:center; gap:10px; flex-wrap:wrap;}
    .bar{
      width:min(420px, 100%);
      height: 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
      overflow:hidden;
    }
    .bar > div{
      width:0%;
      height:100%;
      background: linear-gradient(90deg, var(--accent), #ffd2bb);
      border-radius:999px;
      transition: width .25s ease;
    }
    .barText{font-size:12px; color: var(--muted2); font-family: var(--mono);}

    /* Player */
    .playerWrap{padding:14px;}
    .player{
      width:100%;
      aspect-ratio:16/9;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid var(--stroke);
      background:#070911;
      box-shadow: var(--shadow2);
    }
    iframe{width:100%; height:100%; border:0}

    .lessonMeta{
      padding: 0 14px 14px;
      display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap;
      align-items:flex-start;
    }
    .lessonMeta h2{margin:0; font-size:16px; letter-spacing:.2px}
    .lessonMeta p{margin:8px 0 0; color: var(--muted); font-size:13px; line-height:1.55}
    .navBtns{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:flex-end;}

    /* Sidebar */
    .sideHead{
      padding: 14px 14px 12px;
      border-bottom: 1px solid var(--stroke);
      display:flex; flex-direction:column; gap:6px;
    }
    .sideHead b{font-size:13px}
    .sideHead span{font-size:12px; color: var(--muted2)}
    .search{padding: 12px 14px; border-bottom:1px solid var(--stroke); background: rgba(255,255,255,.03);}
    .search input{
      width:100%;
      padding: 11px 12px;
      border-radius: 14px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: var(--text);
      outline:none;
    }
    .search input:focus{
      border-color: rgba(255,106,42,.35);
      box-shadow: 0 0 0 4px rgba(255,106,42,.10);
    }

    .module{
      margin: 10px;
      border-radius: 16px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.03);
      overflow:hidden;
    }
    .moduleHead{
      padding: 10px 12px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      cursor:pointer;
      user-select:none;
    }
    .moduleHead b{font-size:12px}
    .moduleHead span{font-size:12px; color: var(--muted2)}
    .moduleHead:hover{background: rgba(255,255,255,.04)}
    .moduleBody{padding: 0 8px 10px;}

    .lessonBtn{
      width:100%;
      text-align:left;
      display:flex; gap:10px; align-items:flex-start;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid transparent;
      background: transparent;
      cursor:pointer;
      transition: background .12s ease, border-color .12s ease, transform .08s ease;
      margin-top: 6px;
    }
    .lessonBtn:hover{
      background: rgba(255,106,42,.09);
      border-color: rgba(255,106,42,.14);
      transform: translateY(-1px);
    }
    .lessonBtn.active{
      background: rgba(255,106,42,.14);
      border-color: rgba(255,106,42,.22);
    }
    .badge{
      width: 36px; height: 36px;
      border-radius: 12px;
      display:grid; place-items:center;
      font-family: var(--mono);
      font-size:12px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      flex:0 0 auto;
    }
    .badge.done{
      border-color: rgba(34,197,94,.28);
      background: rgba(34,197,94,.10);
      color: #bff2cf;
      font-weight: 800;
    }
    .lt{margin:0; font-size:13px; font-weight:700; line-height:1.25;}
    .ld{margin:4px 0 0; font-size:12px; color: var(--muted2); line-height:1.35;}

    .note{
      padding: 12px 14px;
      border-top: 1px solid var(--stroke);
      color: var(--muted2);
      font-size: 12px;
      line-height:1.45;
      background: rgba(255,255,255,.03);
    }

    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .brand{min-width:0}
      .kpi{min-width:150px}
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="t">
          <b>Aula privada</b>
          <span>Acceso por link ¬∑ 19 videos / 20 clases</span>
        </div>
      </div>

      <div class="actions">
        <span class="pill" id="pillProgress">Progreso 0%</span>
        <button class="btn accent" id="goHome" type="button">üè† Inicio</button>
        <a class="btn" id="openYT" href="#" target="_blank" rel="noopener">‚ñ∂ Abrir en YouTube</a>
        <button class="btn solid" id="toggleDone" type="button">‚úÖ Completar</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="grid">

      <!-- MAIN -->
      <main class="card">
        <section class="hero" id="homeSection">
          <div class="kicker">‚ö° Workshop ¬∑ After Effects ¬∑ Entorno 3D</div>
          <h1>Animaci√≥n entorno 3D en After Effects</h1>
          <p class="sub">
            Mir√° las clases desde ac√° y marc√° tu avance. Importante: la <b>Clase 05 y 06</b> est√°n dentro del mismo video,
            por eso vas a ver <b>19 videos</b> para <b>20 clases</b>.
          </p>

          <div class="hero-row">
            <div class="kpis">
              <div class="kpi"><b id="kpiLessons">‚Äî</b><span>Contenido total</span></div>
              <div class="kpi"><b id="kpiDone">‚Äî</b><span>Completadas</span></div>
            </div>

            <div class="progressWrap">
              <div class="bar"><div id="progressFill"></div></div>
              <span class="barText" id="progressText">0 / 0</span>
              <button class="btn solid" id="startBtn" type="button">‚ñ∂ Empezar</button>
            </div>
          </div>
        </section>

        <section id="playerSection" style="display:none;">
          <div class="playerWrap">
            <div class="player">
              <iframe id="frame"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
            </div>
          </div>

          <div class="lessonMeta">
            <div class="left">
              <h2 id="lessonTitle">Eleg√≠ una clase</h2>
              <p id="lessonDesc">Seleccion√° una clase del curr√≠culum para comenzar.</p>
            </div>
            <div class="navBtns">
              <button class="btn" id="prevBtn" type="button">‚¨Ö Anterior</button>
              <button class="btn" id="nextBtn" type="button">Siguiente ‚û°</button>
            </div>
          </div>
        </section>
      </main>

      <!-- SIDEBAR -->
      <aside class="card" style="position:sticky; top:78px;">
        <div class="sideHead">
          <b>Curr√≠culum</b>
          <span id="sideSub">Clases del curso</span>
        </div>

        <div class="search">
          <input id="q" type="search" placeholder="Buscar‚Ä¶ (ej: c√°mara, 3D, export, part√≠culas)" />
        </div>

        <div id="modules"></div>

        <div class="note">
          Progreso guardado en este navegador (local). Si abr√≠s desde otro dispositivo, no se sincroniza.
        </div>
      </aside>

    </div>
  </div>

  <script>
    // ====== Tus 19 links (en el orden que pasaste) ======
    const urls = [
      "https://youtu.be/D1IC09GeKZs",
      "https://youtu.be/HVBjwflEPBA",
      "https://youtu.be/4USqAIWAIqc",
      "https://youtu.be/LaMZVjZ1se4",
      "https://youtu.be/wyMZ_Equajc",
      "https://youtu.be/Ghydv5lH-hU",
      "https://youtu.be/Jwr5WONsrnw",
      "https://youtu.be/kIUfed9wwzs",
      "https://youtu.be/2eifWwbYoVU",
      "https://youtu.be/YRVPlf9Q8b8",
      "https://youtu.be/6iZKgA6W2XA",
      "https://youtu.be/5Kf3hmlzw7s",
      "https://youtu.be/OHG0WslMs8M",
      "https://youtu.be/8jx3xiaeruY",
      "https://youtu.be/JoGWgePrkeA",
      "https://youtu.be/JoGWgePrkeA",
      "https://youtu.be/Kb5NjjzP8ZU",
      "https://youtu.be/I4njR2qgrZI",
      "https://youtu.be/Q5wg_VyTQ-o"
    ];

    // ====== 20 clases (05+06 comparten video) ======
    // Mapeo: cada clase apunta a un √≠ndice de urls (0..18)
    // Si alguna no coincide, cambi√°s el "u:" de esa clase.
    const lessons = [
      { t:"01 - Introducci√≥n", d:"Breve introducci√≥n al curso.", u:0 },
      { t:"02 - Retos de entorno 3D", d:"Arrancamos el workshop y el enfoque del entorno 3D.", u:1 },
      { t:"03 - Objetivos", d:"Qu√© vas a lograr y c√≥mo vamos a trabajarlo.", u:2 },
      { t:"04 - Manos a la obra", d:"Setup y primeros pasos del proyecto.", u:3 },

      { t:"05 y 06 - Photoshop", d:"Preparaci√≥n de recursos y ajustes (ambas clases en un solo video).", u:4 },

      { t:"07 - Interfaz express de AE", d:"Ajustes clave y setup inicial en After Effects.", u:5 },
      { t:"08 - Interfaz de AE 3D Cam", d:"Trabajo con c√°mara 3D y herramientas principales.", u:6 },
      { t:"09 - Import y Composici√≥n de la estructura 3D", d:"Importaci√≥n y armado de la estructura en la comp.", u:7 },
      { t:"10 - Animaci√≥n de c√°mara 3D I", d:"Primer tramo de animaci√≥n con c√°mara 3D.", u:8 },
      { t:"11 - Animaci√≥n de c√°mara 3D II", d:"Continuaci√≥n: refinamos timing y movimientos.", u:9 },
      { t:"12 - Animaci√≥n interna", d:"Microanimaciones y vida dentro del entorno.", u:10 },
      { t:"13 - Animaci√≥n de t√≠tulos", d:"Dise√±o y animaci√≥n de t√≠tulos integrados.", u:11 },
      { t:"14 - Composici√≥n y Timing", d:"Ajustes globales de comp y ritmo.", u:12 },
      { t:"15 - Efectos de lighting", d:"Look final: profundidad, atm√≥sfera e iluminaci√≥n.", u:13 },
      { t:"16 - Efectos de Part√≠culas 3D", d:"Part√≠culas para elevar el impacto visual.", u:14 },
      { t:"17 - Retoques de Composici√≥n", d:"Retoques finales de post y composici√≥n.", u:15 },
      { t:"18 - Optimizaci√≥n del proyecto", d:"Orden, rendimiento y limpieza del proyecto.", u:16 },
      { t:"19 - Export Final", d:"Exportaci√≥n final y entrega.", u:17 },
      { t:"20 - Visualizaci√≥n y an√°lisis", d:"Revisi√≥n final y an√°lisis del resultado.", u:18 },
    ];

    // ====== M√≥dulos (para que parezca plataforma real) ======
    const modules = [
      { name:"Inicio del Workshop", items:[0,1,2,3] },
      { name:"Preparaci√≥n de recursos", items:[4] },
      { name:"After Effects + Estructura 3D", items:[5,6,7] },
      { name:"Animaci√≥n", items:[8,9,10,11,12] },
      { name:"Look & Post", items:[13,14,15,16] },
      { name:"Entrega", items:[17,18,19] }
    ];

    // ====== DOM ======
    const modulesWrap = document.getElementById("modules");
    const q = document.getElementById("q");
    const frame = document.getElementById("frame");

    const homeSection = document.getElementById("homeSection");
    const playerSection = document.getElementById("playerSection");

    const lessonTitle = document.getElementById("lessonTitle");
    const lessonDesc = document.getElementById("lessonDesc");

    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const startBtn = document.getElementById("startBtn");

    const openYT = document.getElementById("openYT");
    const goHome = document.getElementById("goHome");
    const toggleDone = document.getElementById("toggleDone");

    const progressFill = document.getElementById("progressFill");
    const progressText = document.getElementById("progressText");
    const pillProgress = document.getElementById("pillProgress");
    const kpiLessons = document.getElementById("kpiLessons");
    const kpiDone = document.getElementById("kpiDone");
    const sideSub = document.getElementById("sideSub");

    // ====== Progreso ======
    const STORAGE_KEY = "aula_progress_brachstyle_v1";
    const progress = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}"); // {lessonIndex:true}

    function saveProgress(){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
      updateProgressUI();
      renderModules(currentTerm);
      updateDoneButton();
    }

    function completedCount(){
      return Object.values(progress).filter(Boolean).length;
    }

    function updateProgressUI(){
      const total = lessons.length;
      const done = completedCount();
      const pct = total ? Math.round((done/total)*100) : 0;

      progressFill.style.width = pct + "%";
      progressText.textContent = `${done} / ${total}`;
      pillProgress.textContent = `Progreso ${pct}%`;
      kpiLessons.textContent = `${total} clases`;
      kpiDone.textContent = `${done} completadas`;
      sideSub.textContent = `${total} clases ¬∑ ${pct}% completado`;
    }

    // ====== Helpers ======
    function toEmbed(url){
      const u = new URL(url);
      const v = u.searchParams.get("v");
      if(v) return `https://www.youtube.com/embed/${v}?rel=0`;
      const parts = u.pathname.split("/").filter(Boolean);
      if(parts.length) return `https://www.youtube.com/embed/${parts[0]}?rel=0`;
      return "";
    }

    let currentLesson = null;
    let currentTerm = "";

    function showHome(){
      homeSection.style.display = "";
      playerSection.style.display = "none";
      currentLesson = null;
      frame.src = "";
      openYT.href = "#";
      toggleDone.textContent = "‚úÖ Completar";
      document.querySelectorAll(".lessonBtn").forEach(b => b.classList.remove("active"));
    }

    function showPlayer(){
      homeSection.style.display = "none";
      playerSection.style.display = "";
    }

    function updateDoneButton(){
      if(currentLesson === null){ toggleDone.textContent = "‚úÖ Completar"; return; }
      const isDone = !!progress[currentLesson];
      toggleDone.textContent = isDone ? "‚Ü© Marcar pendiente" : "‚úÖ Marcar completada";
    }

    function playLesson(i){
      const l = lessons[i];
      currentLesson = i;
      showPlayer();

      const url = urls[l.u];
      frame.src = toEmbed(url);
      lessonTitle.textContent = l.t;
      lessonDesc.textContent = l.d || " ";
      openYT.href = url;

      document.querySelectorAll(".lessonBtn").forEach(b => b.classList.remove("active"));
      const btn = document.querySelector(`.lessonBtn[data-i="${i}"]`);
      if(btn) btn.classList.add("active");

      updateDoneButton();
    }

    function renderModules(term=""){
      modulesWrap.innerHTML = "";
      const t = term.trim().toLowerCase();

      modules.forEach((m, mi) => {
        // filtrar por b√∫squeda
        const filteredItems = m.items.filter(i => {
          if(!t) return true;
          const l = lessons[i];
          return (l.t || "").toLowerCase().includes(t) || (l.d || "").toLowerCase().includes(t);
        });
        if(t && filteredItems.length === 0) return;

        const mod = document.createElement("div");
        mod.className = "module";

        const head = document.createElement("div");
        head.className = "moduleHead";

        const left = document.createElement("div");
        left.innerHTML = `<b>${m.name}</b><span style="display:block;margin-top:2px;">${filteredItems.length} clases</span>`;

        const right = document.createElement("span");
        right.textContent = "‚ñº";
        right.style.color = "var(--muted2)";

        head.appendChild(left);
        head.appendChild(right);

        const body = document.createElement("div");
        body.className = "moduleBody";

        filteredItems.forEach((i) => {
          const l = lessons[i];

          const btn = document.createElement("button");
          btn.className = "lessonBtn";
          btn.type = "button";
          btn.dataset.i = i;

          const badge = document.createElement("div");
          badge.className = "badge" + (progress[i] ? " done" : "");
          badge.textContent = progress[i] ? "‚úì" : String(i+1).padStart(2,"0");

          const wrap = document.createElement("div");
          wrap.innerHTML = `<p class="lt">${l.t}</p><p class="ld">${l.d || " "}</p>`;

          btn.appendChild(badge);
          btn.appendChild(wrap);

          btn.onclick = () => playLesson(i);

          body.appendChild(btn);
        });

        // collapse/expand
        let open = true;
        head.onclick = () => {
          open = !open;
          body.style.display = open ? "" : "none";
          right.textContent = open ? "‚ñº" : "‚ñ∂";
        };

        mod.appendChild(head);
        mod.appendChild(body);
        modulesWrap.appendChild(mod);
      });

      // re-activar seleccionado
      if(currentLesson !== null){
        const btn = document.querySelector(`.lessonBtn[data-i="${currentLesson}"]`);
        if(btn) btn.classList.add("active");
      }
    }

    // ====== Events ======
    goHome.onclick = showHome;
    startBtn.onclick = () => playLesson(0);

    prevBtn.onclick = () => {
      if(currentLesson === null) return;
      playLesson(Math.max(0, currentLesson - 1));
    };
    nextBtn.onclick = () => {
      if(currentLesson === null) return;
      playLesson(Math.min(lessons.length - 1, currentLesson + 1));
    };

    toggleDone.onclick = () => {
      if(currentLesson === null) return;
      progress[currentLesson] = !progress[currentLesson];
      saveProgress();
    };

    q.addEventListener("input", () => {
      currentTerm = q.value;
      renderModules(currentTerm);
    });

    // ====== Init ======
    updateProgressUI();
    renderModules("");
    showHome();
  </script>
</body>
</html>


