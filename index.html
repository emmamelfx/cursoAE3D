<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Curso ‚Äî Aula Privada</title>
  <style>
    :root{
      --bg:#0b0b0f;
      --panel:#0f1117;
      --card:#11131b;
      --stroke:#232636;
      --stroke2:#2e334a;
      --text:#e9ecff;
      --muted:#a7acc7;
      --muted2:#7d83a6;
      --brand:#7c5cff;
      --brand2:#22c55e;
      --danger:#ef4444;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
      --radius2: 22px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(1100px 700px at 20% -10%, rgba(124,92,255,.22), transparent 60%),
                  radial-gradient(900px 600px at 80% 10%, rgba(34,197,94,.12), transparent 55%),
                  var(--bg);
      color:var(--text);
    }

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      background: rgba(11,11,15,.78);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(35,38,54,.8);
    }
    .topbar-inner{
      max-width: 1200px;
      margin:0 auto;
      padding: 14px 16px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      min-width: 220px;
    }
    .logo{
      width:34px;height:34px;border-radius:12px;
      background: linear-gradient(135deg, rgba(124,92,255,1), rgba(34,197,94,.95));
      box-shadow: 0 10px 30px rgba(124,92,255,.25);
    }
    .brand h1{
      font-size:14px; margin:0; line-height:1.1;
      letter-spacing:.2px;
    }
    .brand span{display:block; font-size:12px; color:var(--muted2); margin-top:2px}
    .actions{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      justify-content:flex-end;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid rgba(35,38,54,.9);
      background: rgba(15,17,23,.65);
      color: var(--muted);
      font-size: 12px;
    }
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      border:1px solid rgba(35,38,54,.95);
      background: rgba(17,19,27,.85);
      color: var(--text);
      font-size: 12px;
      cursor:pointer;
      text-decoration:none;
      transition: transform .08s ease, border-color .12s ease, background .12s ease;
      user-select:none;
    }
    .btn:hover{border-color: rgba(46,51,74,1); transform: translateY(-1px)}
    .btn.primary{
      background: linear-gradient(135deg, rgba(124,92,255,.95), rgba(124,92,255,.65));
      border-color: rgba(124,92,255,.85);
    }
    .btn.success{
      background: linear-gradient(135deg, rgba(34,197,94,.95), rgba(34,197,94,.55));
      border-color: rgba(34,197,94,.75);
    }

    /* Layout */
    .container{
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px;
    }
    .layout{
      display:grid;
      grid-template-columns: 360px 1fr;
      gap: 16px;
      align-items: start;
    }

    /* Sidebar */
    .sidebar{
      border:1px solid rgba(35,38,54,.9);
      background: rgba(15,17,23,.72);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      overflow:hidden;
      position: sticky;
      top: 78px;
      max-height: calc(100vh - 96px);
      display:flex;
      flex-direction:column;
    }
    .sidebar-head{
      padding: 14px 14px 12px;
      border-bottom:1px solid rgba(35,38,54,.8);
      background: rgba(17,19,27,.55);
    }
    .course-title{
      margin:0;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .course-sub{
      margin: 6px 0 0;
      color: var(--muted2);
      font-size: 12px;
      line-height:1.35;
    }
    .search{
      padding: 12px 14px;
      border-bottom:1px solid rgba(35,38,54,.8);
      background: rgba(15,17,23,.5);
    }
    .search input{
      width:100%;
      padding: 11px 12px;
      border-radius: 14px;
      border:1px solid rgba(35,38,54,.95);
      background: rgba(17,19,27,.85);
      color: var(--text);
      outline:none;
    }
    .search input:focus{border-color: rgba(124,92,255,.75)}
    .list{
      padding: 10px 10px 12px;
      overflow:auto;
    }
    .lesson{
      width:100%;
      text-align:left;
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding: 10px 10px;
      border-radius: 14px;
      border:1px solid transparent;
      background: transparent;
      color: var(--text);
      cursor:pointer;
      transition: background .12s ease, border-color .12s ease, transform .06s ease;
      margin-bottom: 6px;
    }
    .lesson:hover{
      background: rgba(17,19,27,.7);
      border-color: rgba(35,38,54,.9);
      transform: translateY(-1px);
    }
    .lesson.active{
      background: rgba(124,92,255,.14);
      border-color: rgba(124,92,255,.38);
    }
    .dot{
      width: 18px; height: 18px; border-radius: 999px;
      border:1px solid rgba(46,51,74,1);
      background: rgba(17,19,27,.8);
      display:grid; place-items:center;
      flex: 0 0 auto;
      margin-top: 2px;
      color: var(--muted2);
      font-size: 11px;
    }
    .dot.done{
      border-color: rgba(34,197,94,.65);
      background: rgba(34,197,94,.18);
      color: rgba(34,197,94,1);
    }
    .ltext{flex:1}
    .ltitle{
      font-size: 13px;
      font-weight: 650;
      margin: 0;
      line-height:1.25;
    }
    .ldesc{
      margin: 4px 0 0;
      font-size: 12px;
      color: var(--muted2);
      line-height:1.35;
    }

    /* Main */
    .main{
      display:flex;
      flex-direction:column;
      gap: 16px;
      min-width: 0;
    }

    .card{
      border:1px solid rgba(35,38,54,.9);
      background: rgba(15,17,23,.72);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .hero{
      padding: 18px;
      background:
        radial-gradient(900px 500px at 0% 0%, rgba(124,92,255,.18), transparent 55%),
        radial-gradient(800px 500px at 100% 0%, rgba(34,197,94,.10), transparent 55%),
        rgba(15,17,23,.72);
      border-bottom: 1px solid rgba(35,38,54,.8);
    }
    .hero h2{
      margin:0;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .hero p{
      margin: 8px 0 0;
      color: var(--muted);
      line-height:1.5;
      font-size: 13px;
      max-width: 68ch;
    }
    .hero .mini{
      margin-top: 12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .progressbar{
      width: min(460px, 100%);
      height: 10px;
      border-radius: 999px;
      border:1px solid rgba(35,38,54,.95);
      background: rgba(17,19,27,.85);
      overflow:hidden;
    }
    .progressbar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(124,92,255,1), rgba(34,197,94,1));
      border-radius: 999px;
      transition: width .25s ease;
    }

    .player-wrap{
      padding: 14px;
    }
    .player{
      width:100%;
      aspect-ratio: 16/9;
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(35,38,54,.9);
      background:#000;
    }
    iframe{width:100%; height:100%; border:0}

    .lesson-meta{
      padding: 0 14px 14px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .lesson-meta .left{
      min-width: 240px;
      flex: 1 1 auto;
    }
    .lesson-meta h3{
      margin: 2px 0 0;
      font-size: 16px;
      letter-spacing:.2px;
    }
    .lesson-meta p{
      margin: 8px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height:1.5;
      max-width: 72ch;
    }
    .lesson-meta .right{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .box{
      padding: 14px;
      border-top: 1px solid rgba(35,38,54,.8);
    }
    .box h4{margin:0; font-size: 13px; color: var(--text)}
    .box p{margin:8px 0 0; color: var(--muted); font-size: 13px; line-height:1.5}
    .hint{
      display:flex; gap:10px; align-items:flex-start;
      padding: 12px 14px;
      border-top: 1px solid rgba(35,38,54,.8);
      color: var(--muted);
      font-size: 13px;
      line-height:1.45;
    }
    .hint b{color: var(--text)}
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 8px;
      border:1px solid rgba(35,38,54,.95);
      background: rgba(17,19,27,.85);
      color: var(--muted);
    }

    /* Mobile */
    @media (max-width: 980px){
      .layout{grid-template-columns: 1fr}
      .sidebar{position: relative; top:0; max-height: none}
      .grid{grid-template-columns: 1fr}
      .brand{min-width: 0}
    }
  </style>
</head>

<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Aula Privada</h1>
          <span>Acceso por link ¬∑ Videos no listados</span>
        </div>
      </div>

      <div class="actions">
        <span class="pill" id="pillProgress">Progreso: 0%</span>
        <button class="btn" id="goHome" type="button">üè† Home</button>
        <a class="btn" id="openYT" href="#" target="_blank" rel="noopener">‚ñ∂ Abrir en YouTube</a>
        <button class="btn success" id="toggleDone" type="button">‚úÖ Marcar completada</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-head">
          <p class="course-title" id="courseName">Curso de After Effects</p>
          <p class="course-sub" id="courseSub">20 clases cortas, directas al grano. Enfoque pr√°ctico y ordenado por cap√≠tulos.</p>
        </div>

        <div class="search">
          <input id="q" type="search" placeholder="Buscar en el curr√≠culum‚Ä¶ (ej: c√°mara, 3D, etc.)" />
        </div>

        <div class="list" id="menu"></div>
      </aside>

      <!-- Main -->
      <main class="main">
        <!-- Home / Welcome -->
        <section class="card" id="homeCard">
          <div class="hero">
            <h2>Bienvenido/a al curso üëã</h2>
            <p>
              Ac√° ten√©s el curso completo en formato ‚Äúaula‚Äù: curr√≠culum a la izquierda, reproductor y contenido a la derecha.
              Pod√©s avanzar a tu ritmo y marcar clases como completadas (queda guardado en tu navegador).
            </p>

            <div class="mini">
              <div class="progressbar" aria-label="Barra de progreso">
                <div id="progressFill"></div>
              </div>
              <span class="pill" id="progressText">0 / 0 completadas</span>
              <button class="btn primary" id="startBtn" type="button">‚ñ∂ Empezar por la Clase 01</button>
            </div>
          </div>

          <div class="grid">
            <div class="box">
              <h4>C√≥mo usar esta aula</h4>
              <p>Eleg√≠ una clase del curr√≠culum, mirala y marcala como completada. Si cerr√°s la pesta√±a, el progreso queda guardado.</p>
            </div>
            <div class="box">
              <h4>Tip para verlo sin trabas</h4>
              <p>Si un video no carga, revis√° que est√© en modo <b>No listado</b> (no ‚ÄúPrivado‚Äù). No listado funciona perfecto para cursos con link.</p>
            </div>
          </div>

          <div class="hint">
            <div>üí°</div>
            <div>
              Atajo √∫til: <span class="kbd">Ctrl</span> + <span class="kbd">F</span> para buscar r√°pido en la lista (o us√° la b√∫squeda del curr√≠culum).
            </div>
          </div>
        </section>

        <!-- Player / Lesson -->
        <section class="card" id="lessonCard" style="display:none;">
          <div class="player-wrap">
            <div class="player">
              <iframe id="frame" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
          </div>

          <div class="lesson-meta">
            <div class="left">
              <h3 id="lessonTitle">Eleg√≠ una clase</h3>
              <p id="lessonDesc">Seleccion√° una clase del curr√≠culum para empezar.</p>
            </div>
            <div class="right">
              <button class="btn" id="prevBtn" type="button">‚¨Ö Anterior</button>
              <button class="btn" id="nextBtn" type="button">Siguiente ‚û°</button>
            </div>
          </div>

          <div class="hint">
            <div>üìå</div>
            <div>
              Consejo: mir√° las clases en orden. Si quer√©s repetir una parte, abr√≠ el video en YouTube para ajustar velocidad/calidad.
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <script>
    // ====== CONFIG R√ÅPIDA (edit√° si quer√©s) ======
    const COURSE = {
      name: "Curso de After Effects",
      subtitle: "Aula privada ¬∑ Acceso por link ¬∑ Videos no listados",
    };

    // ====== CLASES (tus links, en el orden que pasaste) ======
    // Nota: me pasaste 19 links. Si falta la clase 20, agregala al final.
    const lessons = [
      { title: "Clase 01", url: "https://youtu.be/D1IC09GeKZs", desc: "" },
      { title: "Clase 02", url: "https://youtu.be/HVBjwflEPBA", desc: "" },
      { title: "Clase 03", url: "https://youtu.be/4USqAIWAIqc", desc: "" },
      { title: "Clase 04", url: "https://youtu.be/LaMZVjZ1se4", desc: "" },
      { title: "Clase 05", url: "https://youtu.be/wyMZ_Equajc", desc: "" },
      { title: "Clase 06", url: "https://youtu.be/Ghydv5lH-hU", desc: "" },
      { title: "Clase 07", url: "https://youtu.be/Jwr5WONsrnw", desc: "" },
      { title: "Clase 08", url: "https://youtu.be/kIUfed9wwzs", desc: "" },
      { title: "Clase 09", url: "https://youtu.be/2eifWwbYoVU", desc: "" },
      { title: "Clase 10", url: "https://youtu.be/YRVPlf9Q8b8", desc: "" },
      { title: "Clase 11", url: "https://youtu.be/6iZKgA6W2XA", desc: "" },
      { title: "Clase 12", url: "https://youtu.be/5Kf3hmlzw7s", desc: "" },
      { title: "Clase 13", url: "https://youtu.be/OHG0WslMs8M", desc: "" },
      { title: "Clase 14", url: "https://youtu.be/8jx3xiaeruY", desc: "" },
      { title: "Clase 15", url: "https://youtu.be/JoGWgePrkeA", desc: "" },
      { title: "Clase 16", url: "https://youtu.be/JoGWgePrkeA", desc: "" }, // repetido tal como lo enviaste
      { title: "Clase 17", url: "https://youtu.be/Kb5NjjzP8ZU", desc: "" },
      { title: "Clase 18", url: "https://youtu.be/I4njR2qgrZI", desc: "" },
      { title: "Clase 19", url: "https://youtu.be/Q5wg_VyTQ-o", desc: "" },
    ];

    // ====== DOM ======
    const menu = document.getElementById("menu");
    const q = document.getElementById("q");
    const frame = document.getElementById("frame");

    const courseName = document.getElementById("courseName");
    const courseSub = document.getElementById("courseSub");

    const homeCard = document.getElementById("homeCard");
    const lessonCard = document.getElementById("lessonCard");

    const goHome = document.getElementById("goHome");
    const startBtn = document.getElementById("startBtn");
    const openYT = document.getElementById("openYT");
    const toggleDone = document.getElementById("toggleDone");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    const lessonTitle = document.getElementById("lessonTitle");
    const lessonDesc = document.getElementById("lessonDesc");

    const progressFill = document.getElementById("progressFill");
    const progressText = document.getElementById("progressText");
    const pillProgress = document.getElementById("pillProgress");

    // ====== HELPERS ======
    const STORAGE_KEY = "course_progress_v1";
    const progress = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}"); // {index: true}

    function saveProgress(){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
      updateProgressUI();
      renderMenu(currentList);
    }

    function toEmbed(url){
      const u = new URL(url);
      const v = u.searchParams.get("v");
      if (v) return `https://www.youtube.com/embed/${v}?rel=0`;
      const parts = u.pathname.split("/").filter(Boolean); // youtu.be/xxxx
      if (parts.length) return `https://www.youtube.com/embed/${parts[0]}?rel=0`;
      return "";
    }

    function completedCount(){
      return Object.values(progress).filter(Boolean).length;
    }

    function updateProgressUI(){
      const total = lessons.length;
      const done = completedCount();
      const pct = total ? Math.round((done/total)*100) : 0;
      progressFill.style.width = pct + "%";
      progressText.textContent = `${done} / ${total} completadas`;
      pillProgress.textContent = `Progreso: ${pct}%`;
    }

    function showHome(){
      homeCard.style.display = "";
      lessonCard.style.display = "none";
      openYT.href = "#";
      toggleDone.textContent = "‚úÖ Marcar completada";
      currentIndex = null;
      document.querySelectorAll(".lesson").forEach(b => b.classList.remove("active"));
    }

    function showLesson(){
      homeCard.style.display = "none";
      lessonCard.style.display = "";
    }

    function setActive(btn){
      document.querySelectorAll(".lesson").forEach(b => b.classList.remove("active"));
      if (btn) btn.classList.add("active");
    }

    function updateDoneButton(){
      if (currentIndex === null) {
        toggleDone.textContent = "‚úÖ Marcar completada";
        return;
      }
      const isDone = !!progress[currentIndex];
      toggleDone.textContent = isDone ? "‚Ü© Marcar como pendiente" : "‚úÖ Marcar completada";
    }

    function playIndex(index){
      const l = lessons[index];
      if (!l) return;

      currentIndex = index;
      showLesson();

      frame.src = toEmbed(l.url);
      lessonTitle.textContent = l.title;
      lessonDesc.textContent = l.desc || " ";

      openYT.href = l.url;

      // activar bot√≥n en lista (si existe)
      const btn = document.querySelector(`.lesson[data-index="${index}"]`);
      setActive(btn);

      updateDoneButton();
    }

    // ====== MENU RENDER ======
    let currentIndex = null;
    let currentList = lessons;

    function renderMenu(list){
      menu.innerHTML = "";
      list.forEach((l, i) => {
        // Nota: el index real es el de lessons; si filtramos, lo buscamos
        const realIndex = lessons.indexOf(l);

        const btn = document.createElement("button");
        btn.className = "lesson";
        btn.type = "button";
        btn.dataset.index = realIndex;

        const dot = document.createElement("div");
        dot.className = "dot" + (progress[realIndex] ? " done" : "");
        dot.textContent = progress[realIndex] ? "‚úì" : (String(realIndex+1).padStart(2,"0"));

        const wrap = document.createElement("div");
        wrap.className = "ltext";

        const t = document.createElement("p");
        t.className = "ltitle";
        t.textContent = l.title;

        const d = document.createElement("p");
        d.className = "ldesc";
        d.textContent = l.desc || " ";

        wrap.appendChild(t);
        wrap.appendChild(d);

        btn.appendChild(dot);
        btn.appendChild(wrap);

        btn.onclick = () => playIndex(realIndex);

        menu.appendChild(btn);
      });

      // re-marcar activo si estamos en una clase
      if (currentIndex !== null) {
        const activeBtn = document.querySelector(`.lesson[data-index="${currentIndex}"]`);
        setActive(activeBtn);
      }
    }

    // ====== NAV ======
    goHome.onclick = showHome;

    startBtn.onclick = () => playIndex(0);

    toggleDone.onclick = () => {
      if (currentIndex === null) return;
      progress[currentIndex] = !progress[currentIndex];
      saveProgress();
      updateDoneButton();
    };

    prevBtn.onclick = () => {
      if (currentIndex === null) return;
      playIndex(Math.max(0, currentIndex - 1));
    };

    nextBtn.onclick = () => {
      if (currentIndex === null) return;
      playIndex(Math.min(lessons.length - 1, currentIndex + 1));
    };

    // ====== SEARCH ======
    q.addEventListener("input", () => {
      const term = q.value.trim().toLowerCase();
      if (!term) {
        currentList = lessons;
        renderMenu(currentList);
        return;
      }
      currentList = lessons.filter(l =>
        (l.title || "").toLowerCase().includes(term) ||
        (l.desc || "").toLowerCase().includes(term)
      );
      renderMenu(currentList.length ? currentList : lessons);
    });

    // ====== INIT ======
    courseName.textContent = COURSE.name;
    courseSub.textContent = COURSE.subtitle;

    updateProgressUI();
    renderMenu(lessons);
    showHome();
  </script>
</body>
</html>
