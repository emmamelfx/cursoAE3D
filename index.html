<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aula ¬∑ Curso Privado</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --surface:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --muted2:#94a3b8;
      --stroke:#e5e7eb;
      --stroke2:#dbe2ea;
      --accent:#6d28d9;
      --accent2:#7c3aed;
      --accentSoft: rgba(109,40,217,.10);
      --success:#16a34a;
      --danger:#ef4444;
      --shadow: 0 12px 28px rgba(15, 23, 42, .08);
      --shadow2: 0 8px 18px rgba(15, 23, 42, .06);
      --r12:12px;
      --r16:16px;
      --r20:20px;
      --max: 1180px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 520px at 15% -10%, rgba(109,40,217,.18), transparent 60%),
        radial-gradient(900px 520px at 85% -10%, rgba(124,58,237,.14), transparent 60%),
        var(--bg);
    }

    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: rgba(246,247,251,.78);
      border-bottom: 1px solid rgba(229,231,235,.85);
    }
    .topbar-inner{
      max-width: var(--max);
      margin: 0 auto;
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 240px;
    }
    .logo{
      width: 36px; height: 36px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--accent), #9f67ff);
      box-shadow: 0 12px 26px rgba(109,40,217,.25);
    }
    .brand .t{display:flex; flex-direction:column; line-height:1.15;}
    .brand .t b{font-size: 13px; letter-spacing:.2px}
    .brand .t span{font-size: 12px; color: var(--muted)}
    .actions{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px;
      padding: 8px 10px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.85);
      border-radius: 999px;
      color: var(--muted);
      box-shadow: var(--shadow2);
      user-select:none;
    }
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px;
      padding: 10px 12px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.92);
      color: var(--text);
      cursor:pointer;
      text-decoration:none;
      box-shadow: var(--shadow2);
      transition: transform .08s ease, border-color .12s ease, box-shadow .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); border-color: var(--stroke2); box-shadow: var(--shadow)}
    .btn.primary{
      border-color: rgba(109,40,217,.25);
      background: linear-gradient(135deg, rgba(109,40,217,.10), rgba(109,40,217,.04));
      color: var(--accent);
    }
    .btn.accent{
      background: linear-gradient(135deg, var(--accent), #8b5cf6);
      border-color: rgba(109,40,217,.35);
      color:white;
    }
    .btn.disabled{
      opacity:.55;
      cursor:not-allowed;
      transform:none !important;
    }

    .container{
      max-width: var(--max);
      margin: 0 auto;
      padding: 18px 16px 26px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 16px;
      align-items:start;
    }

    .card{
      background: rgba(255,255,255,.88);
      border: 1px solid rgba(229,231,235,.9);
      border-radius: var(--r20);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .hero{
      padding: 18px 18px 16px;
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(109,40,217,.12), transparent 55%),
        radial-gradient(900px 420px at 90% 0%, rgba(124,58,237,.10), transparent 55%),
        rgba(255,255,255,.92);
      border-bottom: 1px solid rgba(229,231,235,.9);
    }
    .hero h1{margin:0;font-size:18px;letter-spacing:.2px;}
    .hero p{margin:8px 0 0;color:var(--muted);font-size:13px;line-height:1.55;max-width:74ch;}
    .hero-row{
      margin-top: 14px;
      display:flex;
      gap: 12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .metrics{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .kpi{
      display:flex;
      flex-direction:column;
      gap: 2px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(229,231,235,.95);
      min-width: 160px;
    }
    .kpi b{font-size:12px}
    .kpi span{font-size:12px; color: var(--muted)}
    .progressWrap{
      display:flex; align-items:center; gap: 10px; flex-wrap:wrap;
    }
    .bar{
      width: min(420px, 100%);
      height: 10px;
      border-radius: 999px;
      border: 1px solid rgba(229,231,235,.95);
      background: rgba(148,163,184,.18);
      overflow:hidden;
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--accent), #8b5cf6);
      border-radius: 999px;
      transition: width .25s ease;
    }
    .barText{
      font-size:12px;
      color: var(--muted);
      font-family: var(--mono);
    }

    .playerWrap{padding: 14px 14px 12px;}
    .player{
      width:100%;
      aspect-ratio: 16/9;
      border-radius: 16px;
      overflow:hidden;
      border: 1px solid rgba(229,231,235,.95);
      background: #0b1020;
      box-shadow: var(--shadow2);
    }
    iframe{width:100%; height:100%; border:0}
    .lessonMeta{
      padding: 0 14px 14px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
    }
    .lessonMeta .left{flex: 1 1 320px; min-width: 260px;}
    .lessonMeta h2{margin:2px 0 0;font-size:16px;letter-spacing:.2px;}
    .lessonMeta p{margin:8px 0 0;color:var(--muted);font-size:13px;line-height:1.55;}
    .navBtns{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:flex-end;}

    .sideHead{
      padding: 14px 14px 12px;
      border-bottom: 1px solid rgba(229,231,235,.9);
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .sideHead b{font-size: 13px}
    .sideHead span{font-size:12px; color: var(--muted)}
    .search{
      padding: 12px 14px;
      border-bottom: 1px solid rgba(229,231,235,.9);
      background: rgba(255,255,255,.92);
    }
    .search input{
      width:100%;
      padding: 11px 12px;
      border-radius: 14px;
      border: 1px solid rgba(229,231,235,.95);
      background: rgba(246,247,251,.9);
      outline:none;
      color: var(--text);
    }
    .search input:focus{border-color: rgba(109,40,217,.35); box-shadow: 0 0 0 4px rgba(109,40,217,.08)}
    .list{
      padding: 10px 10px 12px;
      overflow:auto;
      max-height: calc(100vh - 170px);
    }

    .lessonBtn{
      width:100%;
      text-align:left;
      display:flex;
      gap: 10px;
      align-items:flex-start;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid transparent;
      background: transparent;
      cursor:pointer;
      transition: background .12s ease, border-color .12s ease, transform .08s ease;
      margin-bottom: 6px;
    }
    .lessonBtn:hover{
      background: rgba(109,40,217,.06);
      border-color: rgba(109,40,217,.10);
      transform: translateY(-1px);
    }
    .lessonBtn.active{
      background: rgba(109,40,217,.10);
      border-color: rgba(109,40,217,.18);
    }
    .lessonBtn.locked{
      opacity: .55;
      cursor: not-allowed;
      transform:none !important;
    }
    .lessonBtn.locked:hover{
      background: transparent;
      border-color: transparent;
    }

    .badgeNum{
      width: 36px;
      height: 36px;
      border-radius: 12px;
      display:grid;
      place-items:center;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      border: 1px solid rgba(229,231,235,.95);
      background: rgba(255,255,255,.95);
      flex: 0 0 auto;
    }
    .badgeNum.done{
      color: var(--success);
      border-color: rgba(22,163,74,.25);
      background: rgba(22,163,74,.08);
    }
    .badgeNum.locked{
      color: var(--danger);
      border-color: rgba(239,68,68,.25);
      background: rgba(239,68,68,.06);
      font-weight: 700;
    }

    .lt{margin:0;font-size:13px;font-weight:650;line-height:1.25;}
    .ld{margin:4px 0 0;font-size:12px;color:var(--muted);line-height:1.35;}

    .note{
      padding: 12px 14px;
      border-top: 1px solid rgba(229,231,235,.9);
      color: var(--muted);
      font-size: 12px;
      line-height:1.45;
      background: rgba(255,255,255,.92);
    }

    @media (max-width: 980px){
      .grid{grid-template-columns: 1fr}
      .list{max-height: none}
      .brand{min-width:0}
      .kpi{min-width: 150px}
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="t">
          <b>Aula privada</b>
          <span>Acceso por link ¬∑ videos no listados</span>
        </div>
      </div>

      <div class="actions">
        <span class="pill" id="pillProgress">Progreso 0%</span>
        <button class="btn primary" id="goHome" type="button">üè† Inicio</button>
        <a class="btn" id="openYT" href="#" target="_blank" rel="noopener">‚ñ∂ Abrir en YouTube</a>
        <button class="btn accent" id="toggleDone" type="button">‚úÖ Completar</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="grid">

      <!-- MAIN -->
      <main class="card">
        <!-- HOME -->
        <section id="homeSection">
          <div class="hero">
            <h1 id="courseTitle">Workshop Animaci√≥n entorno 3D en After Effects</h1>
            <p id="courseDesc">
              Bienvenido/a. Ten√©s el curso completo en formato aula: reproduc√≠ las clases desde ac√° y marc√° tu avance.
              El progreso queda guardado en este navegador.
            </p>

            <div class="hero-row">
              <div class="metrics">
                <div class="kpi">
                  <b id="kpiLessons">‚Äî clases</b>
                  <span>Contenido total</span>
                </div>
                <div class="kpi">
                  <b id="kpiDone">‚Äî completadas</b>
                  <span>Tu avance</span>
                </div>
              </div>

              <div class="progressWrap">
                <div class="bar" aria-label="Progreso del curso">
                  <div id="progressFill"></div>
                </div>
                <span class="barText" id="progressText">0 / 0</span>
                <button class="btn accent" id="startBtn" type="button">‚ñ∂ Empezar</button>
              </div>
            </div>
          </div>

          <div style="padding:14px;">
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:14px;">
              <div class="card" style="box-shadow:var(--shadow2); border-radius:var(--r16);">
                <div style="padding:14px; border-bottom:1px solid rgba(229,231,235,.9);">
                  <b style="font-size:13px;">C√≥mo usar esta aula</b>
                  <div style="margin-top:6px; color:var(--muted); font-size:13px; line-height:1.55;">
                    Eleg√≠ una clase del curr√≠culum (derecha), mirala y marcala como completada.
                    Pod√©s volver cuando quieras y retomar donde quedaste.
                  </div>
                </div>
                <div style="padding:14px; color:var(--muted); font-size:12px; line-height:1.45;">
                  Tip: si quer√©s cambiar velocidad/calidad, us√° ‚ÄúAbrir en YouTube‚Äù.
                </div>
              </div>

              <div class="card" style="box-shadow:var(--shadow2); border-radius:var(--r16);">
                <div style="padding:14px; border-bottom:1px solid rgba(229,231,235,.9);">
                  <b style="font-size:13px;">Acceso y privacidad</b>
                  <div style="margin-top:6px; color:var(--muted); font-size:13px; line-height:1.55;">
                    Los videos est√°n en modo <b>No listado</b>: no aparecen en b√∫squedas ni en el canal.
                    El acceso es por link.
                  </div>
                </div>
                <div style="padding:14px; color:var(--muted); font-size:12px; line-height:1.45;">
                  Si un video no carga, revis√° que no est√© en ‚ÄúPrivado‚Äù o que el embed est√© bloqueado.
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- PLAYER -->
        <section id="playerSection" style="display:none;">
          <div class="playerWrap">
            <div class="player">
              <iframe id="frame"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
            </div>
          </div>

          <div class="lessonMeta">
            <div class="left">
              <h2 id="lessonTitle">Eleg√≠ una clase</h2>
              <p id="lessonDesc">Seleccion√° una clase del curr√≠culum para comenzar.</p>
            </div>
            <div class="navBtns">
              <button class="btn" id="prevBtn" type="button">‚¨Ö Anterior</button>
              <button class="btn" id="nextBtn" type="button">Siguiente ‚û°</button>
            </div>
          </div>
        </section>
      </main>

      <!-- SIDEBAR -->
      <aside class="card" style="position:sticky; top:78px;">
        <div class="sideHead">
          <b>Curr√≠culum</b>
          <span id="sideSub">Clases del curso</span>
        </div>

        <div class="search">
          <input id="q" type="search" placeholder="Buscar‚Ä¶ (ej: c√°mara, 3D, etc.)" />
        </div>

        <div class="list" id="menu"></div>

        <div class="note">
          Progreso guardado localmente en tu navegador. Si abr√≠s desde otro dispositivo, el progreso no se sincroniza.
        </div>
      </aside>

    </div>
  </div>

  <script>
    // ====== CLASES (t√≠tulos de tu captura + links que me pasaste) ======
    // Ten√©s 20 clases, pero me pasaste 19 links.
    // La clase 20 queda como "link pendiente": cuando tengas ese link, lo peg√°s en url y listo.
    const lessons = [
      { title: "01 - Introducci√≥n", url: "https://youtu.be/D1IC09GeKZs", desc: "Breve introducci√≥n al curso." },
      { title: "02 - Retos de entorno 3D", url: "https://youtu.be/HVBjwflEPBA", desc: "Arrancamos el workshop y el enfoque del entorno 3D." },
      { title: "03 - Objetivos", url: "https://youtu.be/4USqAIWAIqc", desc: "Objetivos del curso y qu√© vas a lograr." },
      { title: "04 - Manos a la obra", url: "https://youtu.be/LaMZVjZ1se4", desc: "Preparaci√≥n y primeros pasos del proyecto." },
      { title: "05 y 06 - Photoshop", url: "https://youtu.be/wyMZ_Equajc", desc: "Recursos, preparaci√≥n y ajustes en Photoshop." },
      { title: "07 - Interfaz express de AE", url: "https://youtu.be/Ghydv5lH-hU", desc: "Interfaz, ajustes clave y setup inicial en After Effects." },
      { title: "08 - Interfaz de AE 3D Cam", url: "https://youtu.be/Jwr5WONsrnw", desc: "Trabajo con c√°mara 3D y opciones principales." },
      { title: "09 - Import y Composici√≥n de la estructura 3D", url: "https://youtu.be/kIUfed9wwzs", desc: "Importaci√≥n y armado de la estructura dentro de la comp." },
      { title: "10 - Animaci√≥n de c√°mara 3D I", url: "https://youtu.be/2eifWwbYoVU", desc: "Primer tramo de animaci√≥n con c√°mara 3D." },
      { title: "11 - Animaci√≥n de c√°mara 3D II", url: "https://youtu.be/YRVPlf9Q8b8", desc: "Continuaci√≥n: refinamos movimientos y timing." },
      { title: "12 - Animaci√≥n interna", url: "https://youtu.be/6iZKgA6W2XA", desc: "Detalles internos: vida al escenario y microanimaciones." },
      { title: "13 - Animaci√≥n de t√≠tulos", url: "https://youtu.be/5Kf3hmlzw7s", desc: "Dise√±o y animaci√≥n de t√≠tulos integrados a la escena." },
      { title: "14 - Composici√≥n y Timing", url: "https://youtu.be/OHG0WslMs8M", desc: "Ajustes de composici√≥n y ritmo general del video." },
      { title: "15 - Efectos de lighting", url: "https://youtu.be/8jx3xiaeruY", desc: "Iluminaci√≥n y look final: profundidad y atm√≥sfera." },
      { title: "16 - Efectos de Part√≠culas 3D", url: "https://youtu.be/JoGWgePrkeA", desc: "Part√≠culas para elevar el impacto visual." },
      { title: "17 - Retoques de Composici√≥n", url: "https://youtu.be/Kb5NjjzP8ZU", desc: "Retoques finales de postproducci√≥n." },
      { title: "18 - Optimizaci√≥n del proyecto", url: "https://youtu.be/I4njR2qgrZI", desc: "Optimizaci√≥n: orden, rendimiento y limpieza del proyecto." },
      { title: "19 - Export Final", url: "https://youtu.be/Q5wg_VyTQ-o", desc: "Exportaci√≥n final y entrega." },
      { title: "20 - Visualizaci√≥n y an√°lisis", url: "", desc: "Link pendiente (pegalo ac√° cuando lo tengas)." },
    ];

    // ====== DOM ======
    const menu = document.getElementById("menu");
    const q = document.getElementById("q");
    const frame = document.getElementById("frame");

    const homeSection = document.getElementById("homeSection");
    const playerSection = document.getElementById("playerSection");

    const lessonTitle = document.getElementById("lessonTitle");
    const lessonDesc = document.getElementById("lessonDesc");

    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const startBtn = document.getElementById("startBtn");

    const openYT = document.getElementById("openYT");
    const goHome = document.getElementById("goHome");
    const toggleDone = document.getElementById("toggleDone");

    const progressFill = document.getElementById("progressFill");
    const progressText = document.getElementById("progressText");
    const pillProgress = document.getElementById("pillProgress");
    const kpiLessons = document.getElementById("kpiLessons");
    const kpiDone = document.getElementById("kpiDone");
    const sideSub = document.getElementById("sideSub");

    // ====== PROGRESO ======
    const STORAGE_KEY = "aula_progress_v3";
    const progress = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}"); // {index:true}

    function saveProgress(){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
      updateProgressUI();
      renderMenu(currentList);
      updateDoneButton();
    }

    function completedCount(){
      return Object.values(progress).filter(Boolean).length;
    }

    function updateProgressUI(){
      const total = lessons.filter(l => !!l.url).length; // solo clases con link
      const done = Object.entries(progress).filter(([k,v]) => v && lessons[Number(k)] && lessons[Number(k)].url).length;
      const pct = total ? Math.round((done/total)*100) : 0;

      progressFill.style.width = pct + "%";
      progressText.textContent = `${done} / ${total}`;
      pillProgress.textContent = `Progreso ${pct}%`;
      kpiLessons.textContent = `${total} clases`;
      kpiDone.textContent = `${done} completadas`;
      sideSub.textContent = `${total} clases ¬∑ ${pct}% completado`;
    }

    function toEmbed(url){
      const u = new URL(url);
      const v = u.searchParams.get("v");
      if (v) return `https://www.youtube.com/embed/${v}?rel=0`;
      const parts = u.pathname.split("/").filter(Boolean);
      if (parts.length) return `https://www.youtube.com/embed/${parts[0]}?rel=0`;
      return "";
    }

    // ====== UI STATE ======
    let currentIndex = null;
    let currentList = lessons;

    function showHome(){
      homeSection.style.display = "";
      playerSection.style.display = "none";
      currentIndex = null;
      openYT.href = "#";
      toggleDone.textContent = "‚úÖ Completar";
      document.querySelectorAll(".lessonBtn").forEach(b => b.classList.remove("active"));
      frame.src = "";
    }

    function showPlayer(){
      homeSection.style.display = "none";
      playerSection.style.display = "";
    }

    function setActive(btn){
      document.querySelectorAll(".lessonBtn").forEach(b => b.classList.remove("active"));
      if(btn) btn.classList.add("active");
    }

    function updateDoneButton(){
      if (currentIndex === null) { toggleDone.textContent = "‚úÖ Completar"; return; }
      const l = lessons[currentIndex];
      if (!l || !l.url) { toggleDone.textContent = "‚úÖ Completar"; return; }
      const isDone = !!progress[currentIndex];
      toggleDone.textContent = isDone ? "‚Ü© Marcar pendiente" : "‚úÖ Marcar completada";
    }

    function playIndex(index){
      const l = lessons[index];
      if(!l) return;

      if(!l.url){
        alert("Este cap√≠tulo todav√≠a no tiene link cargado. Peg√° el link en el array 'lessons' (Clase 20).");
        return;
      }

      currentIndex = index;
      showPlayer();

      frame.src = toEmbed(l.url);
      lessonTitle.textContent = l.title;
      lessonDesc.textContent = l.desc || " ";

      openYT.href = l.url;

      const btn = document.querySelector(`.lessonBtn[data-index="${index}"]`);
      setActive(btn);

      updateDoneButton();
    }

    function renderMenu(list){
      menu.innerHTML = "";
      list.forEach((l, idxInList) => {
        const realIndex = lessons.indexOf(l);

        const btn = document.createElement("button");
        btn.className = "lessonBtn" + (!l.url ? " locked" : "");
        btn.type = "button";
        btn.dataset.index = realIndex;

        const badge = document.createElement("div");
        if (!l.url){
          badge.className = "badgeNum locked";
          badge.textContent = "!";
        } else {
          badge.className = "badgeNum" + (progress[realIndex] ? " done" : "");
          badge.textContent = progress[realIndex] ? "‚úì" : String(realIndex+1).padStart(2,"0");
        }

        const wrap = document.createElement("div");
        const t = document.createElement("p");
        t.className = "lt";
        t.textContent = l.title;

        const d = document.createElement("p");
        d.className = "ld";
        d.textContent = l.url ? (l.desc || " ") : "Link pendiente";

        wrap.appendChild(t);
        wrap.appendChild(d);

        btn.appendChild(badge);
        btn.appendChild(wrap);

        btn.onclick = () => playIndex(realIndex);

        menu.appendChild(btn);
      });

      if (currentIndex !== null) {
        const activeBtn = document.querySelector(`.lessonBtn[data-index="${currentIndex}"]`);
        setActive(activeBtn);
      }
    }

    // ====== EVENTS ======
    goHome.onclick = showHome;

    startBtn.onclick = () => {
      const first = lessons.findIndex(l => !!l.url);
      if (first >= 0) playIndex(first);
    };

    prevBtn.onclick = () => {
      if (currentIndex === null) return;
      let i = currentIndex - 1;
      while (i >= 0 && !lessons[i].url) i--;
      if (i >= 0) playIndex(i);
    };

    nextBtn.onclick = () => {
      if (currentIndex === null) return;
      let i = currentIndex + 1;
      while (i < lessons.length && !lessons[i].url) i++;
      if (i < lessons.length) playIndex(i);
    };

    toggleDone.onclick = () => {
      if (currentIndex === null) return;
      if (!lessons[currentIndex] || !lessons[currentIndex].url) return;
      progress[currentIndex] = !progress[currentIndex];
      saveProgress();
    };

    q.addEventListener("input", () => {
      const term = q.value.trim().toLowerCase();
      if(!term){
        currentList = lessons;
        renderMenu(currentList);
        return;
      }
      currentList = lessons.filter(l =>
        (l.title || "").toLowerCase().includes(term) ||
        (l.desc || "").toLowerCase().includes(term)
      );
      renderMenu(currentList.length ? currentList : lessons);
    });

    // ====== INIT ======
    updateProgressUI();
    renderMenu(lessons);
    showHome();
  </script>
</body>
</html>

