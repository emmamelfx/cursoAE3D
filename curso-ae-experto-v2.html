<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>After Effects Experto ¬∑ Entorno 3D</title>

<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3CradialGradient id='g' cx='40%25' cy='35%25' r='65%25'%3E%3Cstop offset='0' stop-color='%2300e5c8'/%3E%3Cstop offset='1' stop-color='%238b5cf6'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='50' fill='url(%23g)'/%3E%3Crect x='18' y='35' width='64' height='30' rx='8' fill='%23111' stroke='%23333' stroke-width='2'/%3E%3Crect x='24' y='42' width='18' height='16' rx='3' fill='%23f0f0f0'/%3E%3Crect x='28' y='46' width='10' height='2' rx='1' fill='%23111'/%3E%3Crect x='28' y='50' width='10' height='2' rx='1' fill='%23111'/%3E%3Crect x='28' y='54' width='6' height='2' rx='1' fill='%23111'/%3E%3Crect x='48' y='42' width='6' height='16' rx='2' fill='%23f0f0f0'/%3E%3Crect x='60' y='42' width='6' height='16' rx='2' fill='%23f0f0f0'/%3E%3C/svg%3E"/>

<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>

<style>
:root {
  --ink: #090910;
  --ink2: #0f0f1a;
  --surface: #13131f;
  --border: rgba(255,255,255,.07);
  --border2: rgba(255,255,255,.13);
  --txt: #f0f0f8;
  --muted: #c8c8d8;
  --muted2: #4a4a6a;
  --cyan: #00e5c8;
  --violet: #8b5cf6;
  --font-display: 'Poppins', sans-serif;
  --font-body: 'DM Sans', sans-serif;
  --max: 1440px;
  --sidebar-w: 380px;
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  font-family: var(--font-body);
  background: var(--ink);
  color: var(--txt);
  min-height: 100vh;
  overflow-x: hidden;
}
body::before {
  content: '';
  position: fixed; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: .025; pointer-events: none; z-index: 999;
}

/* NAV */
nav {
  position: sticky; top: 0; z-index: 200;
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(20px) saturate(1.5);
  background: rgba(9,9,16,.80);
}
.nav-inner {
  max-width: var(--max); margin: 0 auto;
  padding: 0 20px; height: 60px;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
}
.brand { display: flex; align-items: center; gap: 10px; }
.logo-img {
  width: 36px; height: 36px; border-radius: 50%;
  background: radial-gradient(circle at 40% 35%, #00e5c8, #8b5cf6);
  display: grid; place-items: center; flex-shrink: 0;
  overflow: hidden; position: relative;
}
/* SVG EM logo inline */
.logo-img svg { width: 22px; height: 22px; }
.brand-label { line-height: 1.15; }
.brand-label strong { font-family: var(--font-display); font-size: 13px; font-weight: 700; display: block; }
.brand-label span { font-size: 11px; color: var(--muted); }
.nav-right { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; justify-content: flex-end; }
.progress-chip {
  font-family: var(--font-display); font-size: 11px; font-weight: 700;
  padding: 4px 12px; border-radius: 999px;
  border: 1px solid rgba(0,229,200,.25); background: rgba(0,229,200,.08); color: var(--cyan);
  letter-spacing: .3px;
}
.btn {
  font-family: var(--font-body); font-size: 12px; font-weight: 500;
  padding: 7px 14px; border-radius: 7px;
  border: 1px solid var(--border2); background: rgba(255,255,255,.05);
  color: var(--txt); cursor: pointer; transition: .15s; white-space: nowrap;
  display: inline-flex; align-items: center; gap: 6px; text-decoration: none;
}
.btn:hover { background: rgba(255,255,255,.09); transform: translateY(-1px); }
.btn-cta {
  background: linear-gradient(135deg, var(--cyan), var(--violet));
  border-color: transparent; color: #fff; font-weight: 600;
}
.btn-cta:hover { opacity: .88; }
.muted { color: #fff; }
.btn-done { border-color: rgba(0,229,200,.25); color: #fff; }
.btn-done:hover { background: rgba(0,229,200,.08); }
.btn-done.marked { background: rgba(0,229,200,.12); border-color: rgba(0,229,200,.4); }

/* LAYOUT */
.app {
  max-width: var(--max); margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr var(--sidebar-w);
  gap: 0;
  min-height: calc(100vh - 60px);
}

/* SIDEBAR */
.sidebar {
  border-left: 1px solid var(--border);
  position: sticky; top: 60px;
  height: calc(100vh - 60px);
  display: flex; flex-direction: column;
  background: var(--ink2);
}
.sidebar-head {
  padding: 16px 18px 12px;
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}
.sidebar-head h2 { font-family: var(--font-display); font-size: 16px; font-weight: 700; }
.sidebar-head p { font-size: 13px; color: var(--muted); margin-top: 2px; }
.search-wrap { padding: 12px 14px; border-bottom: 1px solid var(--border); flex-shrink: 0; }
.search-wrap input {
  width: 100%; padding: 11px 14px; border-radius: 8px;
  border: 1px solid var(--border2); background: rgba(255,255,255,.04);
  color: var(--txt); font-family: var(--font-body); font-size: 13px; outline: none;
  transition: border-color .2s;
}
.search-wrap input:focus { border-color: rgba(0,229,200,.35); }
.search-wrap input::placeholder { color: var(--muted2); }
.lesson-list {
  flex: 1; overflow-y: auto; padding: 8px 8px 16px;
  scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.08) transparent;
}
.lesson-list::-webkit-scrollbar { width: 3px; }
.lesson-list::-webkit-scrollbar-thumb { background: rgba(255,255,255,.1); border-radius: 99px; }

.group-block { margin-bottom: 6px; border: 1px solid var(--border); border-radius: 10px; overflow: hidden; }
.group-label {
  padding: 8px 12px; background: rgba(255,255,255,.03);
  border-bottom: 1px solid var(--border);
  position: sticky; top: 0; z-index: 5; backdrop-filter: blur(10px);
  display: flex; align-items: baseline; gap: 8px;
}
.group-label span { font-family: var(--font-display); font-size: 12px; font-weight: 700; letter-spacing: .8px; text-transform: uppercase; color: var(--muted); }
.group-label em { font-style: normal; font-size: 12px; color: var(--muted2); }

.lesson-item {
  width: 100%; text-align: left;
  display: flex; align-items: flex-start; gap: 9px;
  padding: 10px 12px; background: transparent; border: none;
  color: var(--txt); cursor: pointer; font-family: var(--font-body);
  transition: background .12s; position: relative;
}
.lesson-item::after {
  content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 2px;
  background: linear-gradient(180deg, var(--cyan), var(--violet));
  opacity: 0; transition: opacity .2s; border-radius: 0 2px 2px 0;
}
.lesson-item:hover { background: rgba(255,255,255,.04); }
.lesson-item.active { background: rgba(0,229,200,.07); }
.lesson-item.active::after { opacity: 1; }
.lesson-item + .lesson-item { border-top: 1px solid var(--border); }
.lesson-dot {
  width: 7px; height: 7px; border-radius: 50%; background: var(--muted2);
  flex-shrink: 0; margin-top: 5px; transition: background .2s;
}
.lesson-item.active .lesson-dot { background: var(--cyan); box-shadow: 0 0 8px rgba(0,229,200,.5); }
.lesson-item.done .lesson-dot { background: var(--violet); box-shadow: 0 0 6px rgba(139,92,246,.4); }
.lesson-text { flex: 1; min-width: 0; }
.lesson-name { font-size: 14px; font-weight: 500; line-height: 1.35; color: var(--txt); }
.lesson-item.active .lesson-name { color: var(--cyan); font-weight: 600; }
.lesson-desc { font-size: 13px; color: var(--muted); margin-top: 2px; line-height: 1.4; }
.lesson-check { font-size: 12px; flex-shrink: 0; margin-top: 4px; color: var(--violet); opacity: 0; transition: opacity .2s; }
.lesson-item.done .lesson-check { opacity: 1; }

/* MAIN */
.main { padding: 20px 24px 48px; }

/* HOME */
#homeCard { animation: fadeUp .4s cubic-bezier(.22,1,.36,1) both; }
.home-header {
  padding: 30px 32px 28px;
  background:
    radial-gradient(ellipse 70% 50% at 0% 0%, rgba(0,229,200,.13), transparent 55%),
    radial-gradient(ellipse 60% 50% at 100% 0%, rgba(139,92,246,.14), transparent 55%),
    var(--surface);
  border: 1px solid var(--border); border-radius: 16px;
  position: relative; overflow: hidden;
}
.home-header::before {
  content: ''; position: absolute; inset: 0;
  background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.018'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}
.tag {
  display: inline-flex; align-items: center; gap: 6px;
  font-family: var(--font-display); font-size: 10px; font-weight: 700; letter-spacing: .8px; text-transform: uppercase;
  color: var(--cyan); padding: 4px 12px; border-radius: 999px;
  border: 1px solid rgba(0,229,200,.25); background: rgba(0,229,200,.06);
}
.home-title {
  font-family: var(--font-display);
  font-size: clamp(28px, 3.8vw, 46px);
  font-weight: 900; line-height: 1.05; letter-spacing: -1.5px;
  margin-top: 14px;
}
.home-title span {
  background: linear-gradient(90deg, var(--cyan) 0%, var(--violet) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
}
.home-sub {
  margin-top: 12px; font-size: 14px; font-weight: 300;
  color: var(--muted); line-height: 1.7; max-width: 60ch;
}
.home-actions { margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }

/* HOME CONTENT SPACING */
.section-gap { margin-top: 16px; }

/* ABOUT GRID */
.about-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.about-card {
  padding: 14px 16px; border: 1px solid var(--border); border-radius: 12px;
  background: rgba(255,255,255,.02); transition: border-color .2s, background .2s;
}
.about-card:hover { border-color: var(--border2); background: rgba(255,255,255,.04); }
.about-card-icon { font-size: 18px; margin-bottom: 5px; }
.about-card-title { font-family: var(--font-display); font-size: 13px; font-weight: 700; margin-bottom: 3px; }
.about-card-desc { font-size: 12px; color: var(--muted); line-height: 1.5; }

.section-label {
  font-family: var(--font-display); font-size: 10px; font-weight: 800;
  letter-spacing: 1px; text-transform: uppercase; color: var(--cyan); margin-bottom: 10px;
}
.about-text { font-size: 13.5px; color: var(--muted); line-height: 1.8; font-weight: 300; }
.about-text strong { color: var(--txt); font-weight: 500; }
.divider { border: none; border-top: 1px solid var(--border); margin: 20px 0; }

/* VIDEO EMBEDS - home videos constrained */
.video-box {
  border-radius: 12px; overflow: hidden;
  border: 1px solid var(--border2); background: #000;
  box-shadow: 0 12px 36px rgba(0,0,0,.5);
  max-width: 680px;
}
.video-box iframe { width: 100%; aspect-ratio: 16/9; display: block; border: none; height: auto; }

/* INSTRUCTOR */
.instructor-card {
  display: flex; align-items: flex-start; gap: 18px;
  padding: 20px; border: 1px solid var(--border); border-radius: 12px;
  background: rgba(255,255,255,.02);
}
.instructor-logo {
  width: 64px; height: 64px; border-radius: 50%; flex-shrink: 0;
  background: radial-gradient(circle at 40% 35%, #00e5c8, #8b5cf6);
  display: grid; place-items: center;
}
.instructor-info h3 { font-family: var(--font-display); font-size: 16px; font-weight: 800; }
.instructor-info .role {
  font-size: 12px; color: var(--cyan); font-weight: 500; margin-top: 3px; margin-bottom: 8px;
}
.instructor-info p { font-size: 13px; color: var(--muted); line-height: 1.65; font-weight: 300; }
.instructor-stats { display: flex; gap: 20px; margin-top: 12px; flex-wrap: wrap; }
.stat-val { font-family: var(--font-display); font-size: 20px; font-weight: 800; color: var(--txt); }
.stat-lbl { font-size: 11px; color: var(--muted); margin-top: 1px; }

/* PLAYER */
#playerCard { display: none; }
.player-video-wrap {
  background: #000;
  border: 1px solid var(--border2); border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 16px 48px rgba(0,0,0,.6);
}
.player-video-wrap iframe {
  width: 100%;
  height: 500px;
  border: none;
  display: block;
}

.player-info {
  padding: 18px 2px 0;
}
.player-number { font-family: var(--font-display); font-size: 10px; font-weight: 800; letter-spacing: 1px; text-transform: uppercase; color: var(--cyan); margin-bottom: 6px; }
.player-title { font-family: var(--font-display); font-size: clamp(18px, 2.5vw, 26px); font-weight: 800; letter-spacing: -.5px; line-height: 1.2; }
.player-desc { margin-top: 8px; font-size: 13px; color: var(--muted); line-height: 1.6; font-weight: 300; }

.player-controls {
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: wrap; gap: 12px;
  margin-top: 18px; padding-top: 18px;
  border-top: 1px solid var(--border);
}
.controls-left { display: flex; gap: 8px; }
.controls-right { display: flex; gap: 8px; flex-wrap: wrap; }

/* NOTES */
.notes-section {
  margin-top: 18px; padding-top: 18px;
  border-top: 1px solid var(--border);
}
.notes-label { font-family: var(--font-display); font-size: 10px; font-weight: 700; letter-spacing: .8px; text-transform: uppercase; color: var(--muted); margin-bottom: 8px; }
.notes-textarea {
  width: 100%; min-height: 80px; padding: 12px 14px;
  border-radius: 8px; border: 1px solid var(--border2);
  background: rgba(255,255,255,.03); color: var(--txt);
  font-family: var(--font-body); font-size: 13px; line-height: 1.6;
  resize: vertical; outline: none; transition: border-color .2s;
}
.notes-textarea:focus { border-color: rgba(0,229,200,.3); }
.notes-textarea::placeholder { color: var(--muted2); }
.notes-saved { font-size: 11px; color: var(--cyan); opacity: 0; transition: opacity .3s; margin-top: 6px; height: 16px; }
.notes-saved.show { opacity: 1; }

/* KEYBOARD HINT */
.kb-hint {
  display: flex; gap: 6px; align-items: center; flex-wrap: wrap;
  margin-top: 14px;
}
.kb-hint span { font-size: 11px; color: var(--muted2); }
.kbd {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 2px 7px; border-radius: 4px;
  border: 1px solid var(--border2); background: rgba(255,255,255,.05);
  font-size: 10px; color: var(--muted); font-family: monospace;
}

/* ANIM */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}
.anim { animation: fadeUp .35s cubic-bezier(.22,1,.36,1) both; }

/* RESPONSIVE */
@media (max-width: 900px) {
  .app { grid-template-columns: 1fr; }
  .sidebar { position: relative; top: 0; height: auto; border-left: none; border-top: 1px solid var(--border); }
  .lesson-list { max-height: 50vh; }
  .main { padding: 16px; }
  .home-header { padding: 24px 20px; }
  .about-grid { grid-template-columns: 1fr; }
  .instructor-card { flex-direction: column; }
}
@media (max-width: 500px) {
  .nav-right .btn:not(.btn-cta) { display: none; }
}
</style>
</head>
<body>

<nav>
  <div class="nav-inner">
    <div class="brand">
      <div class="logo-img">
        <span style="font-family:var(--font-display);font-weight:900;font-size:13px;color:#fff;letter-spacing:.5px;">EM</span>
      </div>
      <div class="brand-label">
        <strong>After Effects Experto</strong>
        <span>Entorno 3D ¬∑ 20 clases</span>
      </div>
    </div>
    <div class="nav-right">
      <span class="progress-chip" id="pillProgress">0% completado</span>
      <button class="btn" id="goHome" type="button" style="font-weight:700;text-transform:uppercase;letter-spacing:.3px;">‚Üê INICIO</button>
      <a class="btn" href="https://www.youtube.com/@emmamel_" target="_blank" rel="noopener">‚ñ∂ YouTube</a>
      <button class="btn btn-cta btn-done" id="toggleDone" type="button">‚úì Completar clase</button>
    </div>
  </div>
</nav>

<div class="app">

  <!-- MAIN -->
  <div class="main">

    <!-- HOME -->
    <div id="homeCard">

      <div class="home-header">
        <div class="tag">üé¨ Workshop ¬∑ Motion Graphics ¬∑ After Effects</div>
        <h1 class="home-title">AFTER EFFECTS<br><span>NIVEL EXPERTO</span></h1>
        <p class="home-sub">Domin√° el entorno 3D en After Effects y llev√° tus motion graphics al nivel de las grandes agencias creativas. Veinte clases, t√©cnicas reales, resultados profesionales.</p>
        <div class="home-actions">
          <button class="btn btn-cta" id="startBtn" type="button">‚ñ∂ Comenzar curso</button>
          <button class="btn" type="button" onclick="window.open('https://drive.google.com/drive/folders/1JwAskl-_V1mdrx0JIWpMMnkqJdgiq4yX?usp=drive_link','_blank')">‚Üì Recursos del curso</button>
          <button class="btn" type="button" onclick="window.open('mailto:emmamel.fx@gmail.com?subject=Comentario%20del%20curso','_blank')">üí¨ Comentarios</button>
        </div>
      </div>

      <!-- intro video -->
      <div class="section-gap">
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/ptSPBlNyoQ8?rel=0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>

      <!-- cards -->
      <div class="section-gap">
        <div class="about-grid">
          <div class="about-card">
            <div class="about-card-icon">üß†</div>
            <div class="about-card-title">Para todos los niveles</div>
            <div class="about-card-desc">Desde cero hasta t√©cnicas avanzadas. El ritmo se adapta a tu experiencia previa.</div>
          </div>
          <div class="about-card">
            <div class="about-card-icon">üé•</div>
            <div class="about-card-title">Entorno 3D completo</div>
            <div class="about-card-desc">C√°mara 3D, part√≠culas, iluminaci√≥n y composici√≥n de nivel profesional.</div>
          </div>
          <div class="about-card">
            <div class="about-card-icon">üîÅ</div>
            <div class="about-card-title">Acceso de por vida</div>
            <div class="about-card-desc">Revis√° las clases cuando quieras, sin l√≠mite de tiempo ni expiraciones.</div>
          </div>
          <div class="about-card">
            <div class="about-card-icon">üì¶</div>
            <div class="about-card-title">Recursos incluidos</div>
            <div class="about-card-desc">Archivos de proyecto, assets y materiales listos para descargar desde Drive.</div>
          </div>
        </div>
      </div>

      <!-- about text -->
      <div class="section-gap">
        <p class="about-text">
          Este workshop fue dise√±ado para convertirte en un artista vers√°til, listo para trabajar en estudio o como freelancer. Vas a dominar la <strong>c√°mara 3D</strong>, crear animaciones internas, dise√±ar t√≠tulos integrados y aplicar efectos de part√≠culas e iluminaci√≥n que elevan cualquier producci√≥n audiovisual. Si so√±√°s con crear gr√°ficos en movimiento para <strong>videojuegos, comerciales, pel√≠culas o web</strong>, este es tu punto de partida.
        </p>
      </div>

      <div class="divider"></div>

      <!-- instructor -->
      <div class="section-gap">
        <div class="section-label">El instructor</div>
        <div class="instructor-card">
          <div class="instructor-logo">
            <span style="font-family:var(--font-display);font-weight:900;font-size:22px;color:#fff;letter-spacing:.5px;">EM</span>
          </div>
          <div class="instructor-info">
            <h3>Emmanuel</h3>
            <div class="role">Dise√±ador Motion Graphics & 3D ¬∑ Artista VFX</div>
            <p>Lic. en Producci√≥n y Realizaci√≥n Audiovisual con m√°s de 15 a√±os trabajando en proyectos para Cine, TV, Publicidad y nuevas plataformas. Dise√±√© para diferentes marcas y clientes, y hoy te comparto todo lo que aprend√≠ en el camino.</p>
            <div class="instructor-stats">
              <div class="stat"><div class="stat-val">15+</div><div class="stat-lbl">A√±os de experiencia</div></div>
              <div class="stat"><div class="stat-val">20</div><div class="stat-lbl">Clases en este curso</div></div>
              <div class="stat"><div class="stat-val">AE</div><div class="stat-lbl">After Effects</div></div>
            </div>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <!-- resultado final -->
      <div class="section-gap">
        <div class="section-label">Resultado final del curso</div>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/bZlzz87AVo4?rel=0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>

    </div><!-- /homeCard -->

    <!-- PLAYER -->
    <div id="playerCard" class="anim">
      <div class="player-video-wrap">
        <iframe id="frame"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
      </div>

      <div class="player-info">
        <div class="player-number" id="playerNumber">Clase</div>
        <h2 class="player-title" id="lessonTitle">‚Äî</h2>
        <p class="player-desc" id="lessonDesc">‚Äî</p>

        <div class="player-controls">
          <div class="controls-left">
            <button class="btn" id="prevBtn" type="button">‚Üê Anterior</button>
            <button class="btn" id="nextBtn" type="button">Siguiente ‚Üí</button>
          </div>
          <div class="controls-right">
            <button class="btn btn-done" id="toggleDone2" type="button">‚úì Marcar completada</button>
            <a class="btn" id="openYT2" href="#" target="_blank" rel="noopener">‚ñ∂ Ver en YouTube</a>
          </div>
        </div>

        <div class="notes-section">
          <div class="notes-label">üìù Mis notas de esta clase</div>
          <textarea class="notes-textarea" id="notesArea" placeholder="Anot√° lo que quieras recordar de esta clase‚Ä¶" rows="3"></textarea>
          <div class="notes-saved" id="notesSaved">Nota guardada ‚úì</div>
        </div>

        <div class="kb-hint">
          <span>Atajos:</span>
          <span class="kbd">‚Üê</span><span style="font-size:11px;color:var(--muted2)">anterior</span>
          <span class="kbd">‚Üí</span><span style="font-size:11px;color:var(--muted2)">siguiente</span>
          <span class="kbd">C</span><span style="font-size:11px;color:var(--muted2)">completar</span>
          <span class="kbd">H</span><span style="font-size:11px;color:var(--muted2)">inicio</span>
        </div>

      </div>
    </div><!-- /playerCard -->

  </div><!-- /main -->

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-head">
      <h2>Contenido del curso</h2>
      <p>20 clases ¬∑ Entorno 3D en After Effects</p>
    </div>
    <div class="search-wrap">
      <input id="q" type="search" placeholder="Buscar clase‚Ä¶"/>
    </div>
    <div class="lesson-list" id="list"></div>
  </aside>

</div><!-- /app -->

<script>
const lessons = [
  { t:"01 ¬∑ Introducci√≥n", d:"Presentaci√≥n del curso y el instructor.", url:"https://youtu.be/D1IC09GeKZs" },
  { t:"02 ¬∑ Refs de entornos 3D", d:"El enfoque del workshop y referencias visuales.", url:"https://youtu.be/HVBjwflEPBA" },
  { t:"03 ¬∑ Objetivos", d:"Qu√© vas a lograr y c√≥mo vamos a trabajarlo.", url:"https://youtu.be/4USqAIWAIqc" },
  { t:"04 ¬∑ Manos a la obra", d:"Setup y primeros pasos del proyecto.", url:"https://youtu.be/LaMZVjZ1se4" },
  { t:"05 y 06 ¬∑ Photoshop", d:"Preparaci√≥n de recursos y ajustes en Photoshop.", url:"https://youtu.be/wyMZ_Equajc" },
  { t:"07 ¬∑ Interfaz express de AE", d:"Ajustes clave y setup inicial en After Effects.", url:"https://youtu.be/Ghydv5lH-hU" },
  { t:"08 ¬∑ Interfaz AE 3D Cam", d:"Trabajo con c√°mara 3D y herramientas principales.", url:"https://youtu.be/Jwr5WONsrnw" },
  { t:"09 ¬∑ Import y Composici√≥n 3D", d:"Importaci√≥n y armado de la estructura en la comp.", url:"https://youtu.be/kIUfed9wwzs" },
  { t:"10 ¬∑ Animaci√≥n de c√°mara I", d:"Primer tramo de animaci√≥n con c√°mara 3D.", url:"https://youtu.be/2eifWwbYoVU" },
  { t:"11 ¬∑ Animaci√≥n de c√°mara II", d:"Refinamos timing y movimientos de c√°mara.", url:"https://youtu.be/YRVPlf9Q8b8" },
  { t:"12 ¬∑ Animaci√≥n interna", d:"Microanimaciones y vida dentro del entorno.", url:"https://youtu.be/6iZKgA6W2XA" },
  { t:"13 ¬∑ Animaci√≥n de t√≠tulos", d:"Dise√±o y animaci√≥n de t√≠tulos integrados.", url:"https://youtu.be/5Kf3hmlzw7s" },
  { t:"14 ¬∑ Composici√≥n y Timing", d:"Ajustes globales de composici√≥n y ritmo.", url:"https://youtu.be/OHG0WslMs8M" },
  { t:"15 ¬∑ Efectos de lighting", d:"Look final: profundidad, atm√≥sfera e iluminaci√≥n.", url:"https://www.youtube.com/watch?v=8jx3xiaeruY" },
  { t:"16 ¬∑ Part√≠culas 3D", d:"Part√≠culas para elevar el impacto visual.", url:"https://www.youtube.com/watch?v=JoGWgePrkeA" },
  { t:"17 ¬∑ Retoques de composici√≥n", d:"Retoques finales de post y composici√≥n.", url:"https://www.youtube.com/watch?v=MIBiBZC7uZ4" },
  { t:"18 ¬∑ Optimizaci√≥n del proyecto", d:"Orden, rendimiento y limpieza del proyecto.", url:"https://www.youtube.com/watch?v=Kb5NjjzP8ZU" },
  { t:"19 ¬∑ Export final", d:"Exportaci√≥n final y entrega del proyecto.", url:"https://www.youtube.com/watch?v=I4njR2qgrZI" },
  { t:"20 ¬∑ Visualizaci√≥n y an√°lisis", d:"Cierre y an√°lisis del resultado final.", url:"https://www.youtube.com/watch?v=sLxfVUPDj0o" },
];

const groups = [
  { label:"Inicio del workshop", idx:[0,1,2,3] },
  { label:"Preparaci√≥n de recursos", idx:[4] },
  { label:"After Effects ¬∑ Estructura 3D", idx:[5,6,7] },
  { label:"Animaci√≥n", idx:[8,9,10,11,12] },
  { label:"Look & Post", idx:[13,14,15,16,17,18] },
];

const STORAGE_KEY = "ae_experto_v5";
const NOTES_KEY   = "ae_experto_notes_v1";
const done  = JSON.parse(localStorage.getItem(STORAGE_KEY)||"{}");
const notes = JSON.parse(localStorage.getItem(NOTES_KEY)||"{}");
let current = null;
let notesSaveTimer = null;

// Elements
const homeCard    = document.getElementById("homeCard");
const playerCard  = document.getElementById("playerCard");
const frame       = document.getElementById("frame");
const lessonTitle = document.getElementById("lessonTitle");
const lessonDesc  = document.getElementById("lessonDesc");
const playerNum   = document.getElementById("playerNumber");
const openYT2     = document.getElementById("openYT2");
const goHome      = document.getElementById("goHome");
const startBtn    = document.getElementById("startBtn");
const prevBtn     = document.getElementById("prevBtn");
const nextBtn     = document.getElementById("nextBtn");
const toggleDone  = document.getElementById("toggleDone");
const toggleDone2 = document.getElementById("toggleDone2");
const pillProgress= document.getElementById("pillProgress");
const qInput      = document.getElementById("q");
const listEl      = document.getElementById("list");
const notesArea   = document.getElementById("notesArea");
const notesSaved  = document.getElementById("notesSaved");

function toEmbed(url){
  try {
    const u = new URL(url);
    const v = u.searchParams.get("v");
    if(v) return `https://www.youtube.com/embed/${v}?rel=0`;
    const parts = u.pathname.split("/").filter(Boolean);
    if(parts.length) return `https://www.youtube.com/embed/${parts[0]}?rel=0`;
  } catch(e){}
  return "";
}

function updateProgress(){
  const count = Object.values(done).filter(Boolean).length;
  const pct = Math.round((count/lessons.length)*100);
  pillProgress.textContent = `${pct}% completado`;
}

function setActiveItem(key){
  document.querySelectorAll(".lesson-item").forEach(el=>{
    el.classList.remove("active");
    if(el.dataset.key === String(key)) el.classList.add("active");
  });
}

function updateDoneUI(){
  if(typeof current !== "number") return;
  const isDone = !!done[current];
  const label = isDone ? "‚Ü© Marcar pendiente" : "‚úì Marcar completada";
  toggleDone.textContent = label;
  toggleDone2.textContent = label;
  toggleDone2.classList.toggle("marked", isDone);
  document.querySelectorAll(".lesson-item").forEach(el=>{
    const k = parseInt(el.dataset.key);
    el.classList.toggle("done", !!done[k]);
    const ch = el.querySelector(".lesson-check");
    if(ch) ch.textContent = done[k]?"‚úì":"";
  });
}

function showHome(){
  homeCard.style.display = "";
  playerCard.style.display = "none";
  current = null;
  frame.src = "";
  setActiveItem(-1);
  toggleDone.textContent = "‚úì Completar clase";
  window.scrollTo({top:0, behavior:"smooth"});
}

function showPlayer(){
  homeCard.style.display = "none";
  playerCard.style.display = "";
  window.scrollTo({top:0, behavior:"smooth"});
}

function playLesson(i){
  current = i;
  const l = lessons[i];
  showPlayer();
  frame.src = toEmbed(l.url);
  lessonTitle.textContent = l.t;
  lessonDesc.textContent = l.d;
  playerNum.textContent = `Clase ${i+1} de ${lessons.length}`;
  openYT2.href = l.url;
  setActiveItem(i);
  updateDoneUI();
  // load note
  notesArea.value = notes[i] || "";
  notesSaved.classList.remove("show");
  // scroll sidebar item into view
  const btn = document.querySelector(`.lesson-item[data-key="${i}"]`);
  if(btn) btn.scrollIntoView({block:"nearest", behavior:"smooth"});
}

function renderList(term=""){
  const q = term.trim().toLowerCase();
  listEl.innerHTML = "";
  groups.forEach(g=>{
    const filtered = g.idx.filter(i=>!q || lessons[i].t.toLowerCase().includes(q) || lessons[i].d.toLowerCase().includes(q));
    if(!filtered.length) return;
    const block = document.createElement("div");
    block.className = "group-block";
    const lbl = document.createElement("div");
    lbl.className = "group-label";
    lbl.innerHTML = `<span>${g.label}</span><em>${filtered.length} clase${filtered.length>1?"s":""}</em>`;
    block.appendChild(lbl);
    filtered.forEach(i=>{
      const l = lessons[i];
      const item = document.createElement("button");
      item.type = "button";
      item.className = "lesson-item"+(done[i]?" done":"")+(current===i?" active":"");
      item.dataset.key = i;
      item.innerHTML = `
        <div class="lesson-dot"></div>
        <div class="lesson-text">
          <div class="lesson-name">${l.t}</div>
          <div class="lesson-desc">${l.d}</div>
        </div>
        <div class="lesson-check">${done[i]?"‚úì":""}</div>
      `;
      item.onclick = ()=>playLesson(i);
      block.appendChild(item);
    });
    listEl.appendChild(block);
  });
}

// Notes autosave
notesArea.addEventListener("input", ()=>{
  clearTimeout(notesSaveTimer);
  notesSaved.classList.remove("show");
  notesSaveTimer = setTimeout(()=>{
    if(typeof current === "number"){
      notes[current] = notesArea.value;
      localStorage.setItem(NOTES_KEY, JSON.stringify(notes));
      notesSaved.classList.add("show");
      setTimeout(()=>notesSaved.classList.remove("show"), 2000);
    }
  }, 800);
});

// Mark done
function markToggle(){
  if(typeof current !== "number") return;
  done[current] = !done[current];
  localStorage.setItem(STORAGE_KEY, JSON.stringify(done));
  updateProgress();
  updateDoneUI();
  renderList(qInput.value);
  setActiveItem(current);
}

// Keyboard shortcuts
document.addEventListener("keydown", e=>{
  const tag = document.activeElement.tagName;
  if(tag==="INPUT"||tag==="TEXTAREA") return;
  if(e.key==="ArrowLeft"  && typeof current==="number") playLesson(Math.max(0, current-1));
  if(e.key==="ArrowRight" && typeof current==="number") playLesson(Math.min(lessons.length-1, current+1));
  if(e.key==="c"||e.key==="C") markToggle();
  if(e.key==="h"||e.key==="H") showHome();
});

// Events
goHome.onclick    = showHome;
startBtn.onclick  = ()=>playLesson(0);
prevBtn.onclick   = ()=>{ if(typeof current==="number") playLesson(Math.max(0,current-1)); };
nextBtn.onclick   = ()=>{ if(typeof current==="number") playLesson(Math.min(lessons.length-1,current+1)); };
toggleDone.onclick  = markToggle;
toggleDone2.onclick = markToggle;
qInput.addEventListener("input", ()=>renderList(qInput.value));

// Init
updateProgress();
renderList();
showHome();
</script>
</body>
</html>
